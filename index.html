<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kayseri İmsakiye</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --lila: #DCD0FF;
            --mint: #B2FBA5;
            --dark-purple: #6A1B9A;
            --bg-gradient-start: #f3e5f5;
            --bg-gradient-end: #ffffff;
        }

        body {
            margin: 0;
            padding: 0;
            font-family: 'Georgia', serif;
            background: linear-gradient(180deg, var(--bg-gradient-start) 0%, var(--bg-gradient-end) 100%);
            height: 100vh;
            display: flex;
            justify-content: center;
            overflow: hidden;
        }

        .app-container {
            width: 100%;
            max-width: 450px;
            height: 100%;
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            box-sizing: border-box;
        }

        /* Arka Plan */
        .deco-moon {
            position: absolute;
            top: -50px;
            right: -40px;
            font-size: 180px;
            color: rgba(106, 27, 154, 0.05);
            z-index: -1;
            transform: rotate(-20deg);
        }

        .header {
            text-align: center;
            margin-top: 30px;
            color: var(--dark-purple);
            z-index: 2;
        }

        .location {
            font-size: 14px;
            letter-spacing: 2px;
            text-transform: uppercase;
            font-weight: 600;
            opacity: 0.7;
        }

        .title {
            font-size: 24px;
            font-weight: bold;
            margin: 5px 0;
        }

        .badge {
            background-color: var(--dark-purple);
            color: white;
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 14px;
            margin-top: 10px;
            display: inline-block;
            font-weight: bold;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            transition: opacity 0.3s;
        }

        /* Geri Sayım Dairesi */
        .countdown-wrapper {
            margin-top: 30px;
            position: relative;
            width: 260px;
            height: 260px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .countdown-circle {
            width: 100%;
            height: 100%;
            background: white;
            border-radius: 50%;
            border: 6px solid var(--mint);
            box-shadow: 0 0 25px rgba(178, 251, 165, 0.6);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }

        .label-text {
            font-size: 16px;
            color: #777;
            margin-bottom: 5px;
            font-weight: 500;
        }

        .timer-text {
            font-size: 46px;
            font-weight: bold;
            color: var(--dark-purple);
            font-family: 'Courier New', Courier, monospace;
            letter-spacing: -2px;
            line-height: 1;
        }

        /* Kartlar */
        .cards-container {
            width: 100%;
            margin-top: auto;
            margin-bottom: 40px;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .time-card {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 25px;
            border-radius: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            transition: transform 0.2s;
        }

        .card-left {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .card-icon { font-size: 26px; color: var(--dark-purple); }
        .card-title { font-size: 18px; font-weight: bold; color: var(--dark-purple); }
        .card-time { font-size: 24px; font-weight: bold; color: var(--dark-purple); }

        .bg-mint { background-color: var(--mint); }
        .bg-lila { background-color: var(--lila); }
        
        .hidden { display: none; }
        .debug-date { position: absolute; bottom: 5px; font-size: 10px; color: #ccc; }

    </style>
</head>
<body>

    <div class="app-container">
        <i class="fa-solid fa-mosque deco-moon"></i>

        <div class="header">
            <div class="location">Kayseri Melikgazi</div>
            <div class="title" id="page-title">Vakit Sayacı</div>
            <div id="ramadan-badge" class="badge hidden">Ramazan</div>
        </div>

        <div class="countdown-wrapper">
            <div class="countdown-circle">
                <div id="target-label" class="label-text">Yükleniyor...</div>
                <div id="timer-display" class="timer-text">--:--:--</div>
            </div>
        </div>

        <div class="cards-container">
            <div class="time-card bg-mint">
                <div class="card-left">
                    <i class="fa-regular fa-sun card-icon"></i>
                    <span class="card-title">İMSAK (Sahur)</span>
                </div>
                <span id="imsak-val" class="card-time">--:--</span>
            </div>

            <div class="time-card bg-lila">
                <div class="card-left">
                    <i class="fa-solid fa-utensils card-icon"></i>
                    <span class="card-title">İFTAR (Akşam)</span>
                </div>
                <span id="iftar-val" class="card-time">--:--</span>
            </div>
        </div>
        
        <div id="debug-date" class="debug-date"></div>
    </div>

    <script>
        // ✅ VERİ LİSTESİ (Aralık 2025 + Ramazan 2026)
        const takvim = {
            // --- ARALIK 2025 (Kayseri Güncel) ---
            "19.12.2025": { imsak: "06:14", iftar: "17:28", tur: "normal" }, // Bugün
            "20.12.2025": { imsak: "06:15", iftar: "17:29", tur: "normal" },
            "21.12.2025": { imsak: "06:15", iftar: "17:29", tur: "normal" },
            "22.12.2025": { imsak: "06:16", iftar: "17:30", tur: "normal" },
            "23.12.2025": { imsak: "06:16", iftar: "17:30", tur: "normal" },
            "24.12.2025": { imsak: "06:17", iftar: "17:31", tur: "normal" },
            "25.12.2025": { imsak: "06:17", iftar: "17:31", tur: "normal" },
            "26.12.2025": { imsak: "06:18", iftar: "17:32", tur: "normal" },
            "27.12.2025": { imsak: "06:18", iftar: "17:33", tur: "normal" },
            "28.12.2025": { imsak: "06:19", iftar: "17:33", tur: "normal" },
            "29.12.2025": { imsak: "06:19", iftar: "17:34", tur: "normal" },
            "30.12.2025": { imsak: "06:19", iftar: "17:35", tur: "normal" },
            "31.12.2025": { imsak: "06:20", iftar: "17:36", tur: "normal" },

            // --- RAMAZAN 2026 (Senin Listene Göre) ---
            "19.02.2026": { imsak: "05:56", iftar: "18:26", tur: "ramazan", gun: 1 },
            "20.02.2026": { imsak: "05:54", iftar: "18:27", tur: "ramazan", gun: 2 },
            "21.02.2026": { imsak: "05:53", iftar: "18:28", tur: "ramazan", gun: 3 },
            "22.02.2026": { imsak: "05:52", iftar: "18:30", tur: "ramazan", gun: 4 },
            "23.02.2026": { imsak: "05:51", iftar: "18:31", tur: "ramazan", gun: 5 },
            "24.02.2026": { imsak: "05:49", iftar: "18:32", tur: "ramazan", gun: 6 },
            "25.02.2026": { imsak: "05:48", iftar: "18:33", tur: "ramazan", gun: 7 },
            "26.02.2026": { imsak: "05:47", iftar: "18:34", tur: "ramazan", gun: 8 },
            "27.02.2026": { imsak: "05:45", iftar: "18:35", tur: "ramazan", gun: 9 },
            "28.02.2026": { imsak: "05:44", iftar: "18:36", tur: "ramazan", gun: 10 },
            "01.03.2026": { imsak: "05:43", iftar: "18:37", tur: "ramazan", gun: 11 },
            "02.03.2026": { imsak: "05:41", iftar: "18:38", tur: "ramazan", gun: 12 },
            "03.03.2026": { imsak: "05:40", iftar: "18:39", tur: "ramazan", gun: 13 },
            "04.03.2026": { imsak: "05:38", iftar: "18:40", tur: "ramazan", gun: 14 },
            "05.03.2026": { imsak: "05:37", iftar: "18:41", tur: "ramazan", gun: 15 },
            "06.03.2026": { imsak: "05:35", iftar: "18:42", tur: "ramazan", gun: 16 },
            "07.03.2026": { imsak: "05:34", iftar: "18:43", tur: "ramazan", gun: 17 },
            "08.03.2026": { imsak: "05:32", iftar: "18:44", tur: "ramazan", gun: 18 },
            "09.03.2026": { imsak: "05:31", iftar: "18:45", tur: "ramazan", gun: 19 },
            "10.03.2026": { imsak: "05:29", iftar: "18:46", tur: "ramazan", gun: 20 },
            "11.03.2026": { imsak: "05:28", iftar: "18:47", tur: "ramazan", gun: 21 },
            "12.03.2026": { imsak: "05:26", iftar: "18:48", tur: "ramazan", gun: 22 },
            "13.03.2026": { imsak: "05:25", iftar: "18:49", tur: "ramazan", gun: 23 },
            "14.03.2026": { imsak: "05:23", iftar: "18:50", tur: "ramazan", gun: 24 },
            "15.03.2026": { imsak: "05:21", iftar: "18:51", tur: "ramazan", gun: 25 },
            "16.03.2026": { imsak: "05:20", iftar: "18:52", tur: "ramazan", gun: 26 },
            "17.03.2026": { imsak: "05:18", iftar: "18:53", tur: "ramazan", gun: 27 },
            "18.03.2026": { imsak: "05:17", iftar: "18:54", tur: "ramazan", gun: 28 },
            "19.03.2026": { imsak: "05:15", iftar: "18:55", tur: "ramazan", gun: 29 }
        };

        const lblTitle = document.getElementById('page-title');
        const lblTarget = document.getElementById('target-label');
        const lblTimer = document.getElementById('timer-display');
        const badge = document.getElementById('ramadan-badge');
        const valImsak = document.getElementById('imsak-val');
        const valIftar = document.getElementById('iftar-val');
        const debugDate = document.getElementById('debug-date');

        function formatTwoDigits(num) {
            return num.toString().padStart(2, '0');
        }

        function createDateTime(baseDate, timeStr) {
            const parts = timeStr.split(':');
            const newDate = new Date(baseDate);
            newDate.setHours(parseInt(parts[0]), parseInt(parts[1]), 0, 0);
            return newDate;
        }

        function updateApp() {
            let now = new Date();
            
            // Tarih Kontrolü
            const d = formatTwoDigits(now.getDate());
            const m = formatTwoDigits(now.getMonth() + 1);
            const y = now.getFullYear();
            const dateKey = `${d}.${m}.${y}`;
            
            // Debug satırı (Silinebilir)
            debugDate.innerText = "Sistem Tarihi: " + dateKey;

            // BUGÜNÜN VERİSİ YOKSA
            if (!takvim[dateKey]) {
                lblTarget.innerText = "Liste Sonu / Veri Yok";
                lblTimer.innerText = "--:--:--";
                lblTimer.style.fontSize = "32px";
                valImsak.innerText = "-";
                valIftar.innerText = "-";
                badge.classList.add('hidden');
                
                // Belki gece yarısını geçmiştir, bir önceki günü kontrol et?
                // Ama şimdilik basit tutalım.
                return;
            }

            // BUGÜNÜN VERİSİ VAR
            const data = takvim[dateKey];
            valImsak.innerText = data.imsak;
            valIftar.innerText = data.iftar;

            // Rozet Ayarı
            if (data.tur === "ramazan") {
                badge.innerText = `Ramazan'ın ${data.gun}. Günü`;
                badge.classList.remove('hidden');
                lblTitle.innerText = "Hayırlı Ramazanlar";
            } else {
                badge.classList.add('hidden'); // Normal günse gizle
                lblTitle.innerText = "Kayseri Namaz Vakitleri";
            }

            // ZAMAN MANTIĞI
            const imsakVakti = createDateTime(now, data.imsak);
            const iftarVakti = createDateTime(now, data.iftar);
            
            let hedefZaman;
            let hedefMetin = "";

            if (now < imsakVakti) {
                // Sahura kadar
                hedefZaman = imsakVakti;
                hedefMetin = data.tur === "ramazan" ? "Sahura Kalan" : "İmsak Vaktine";
            } else if (now >= imsakVakti && now < iftarVakti) {
                // İftara kadar
                hedefZaman = iftarVakti;
                hedefMetin = data.tur === "ramazan" ? "İftara Kalan" : "Akşam Ezanına";
            } else {
                // İftar geçti, YARINA bak
                const yarin = new Date(now);
                yarin.setDate(yarin.getDate() + 1);
                const yd = formatTwoDigits(yarin.getDate());
                const ym = formatTwoDigits(yarin.getMonth() + 1);
                const yy = yarin.getFullYear();
                const yarinKey = `${yd}.${ym}.${yy}`;

                if (takvim[yarinKey]) {
                    hedefZaman = createDateTime(yarin, takvim[yarinKey].imsak);
                    hedefMetin = "Yarın İmsak";
                    // Eğer yarın Ramazan ise
                    if(takvim[yarinKey].tur === "ramazan") {
                         hedefMetin = "Sahura Kalan";
                    }
                } else {
                    lblTarget.innerText = "Veri Bitti";
                    lblTimer.innerText = "SON";
                    return;
                }
            }

            // SAYACI GÜNCELLE
            const fark = hedefZaman - now;
            const sa = Math.floor((fark % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const dk = Math.floor((fark % (1000 * 60 * 60)) / (1000 * 60));
            const sn = Math.floor((fark % (1000 * 60)) / 1000);

            lblTarget.innerText = hedefMetin;
            lblTimer.innerText = `${formatTwoDigits(sa)}:${formatTwoDigits(dk)}:${formatTwoDigits(sn)}`;
            lblTimer.style.fontSize = "46px";
        }

        setInterval(updateApp, 1000);
        updateApp(); 

    </script>
</body>
</html>
