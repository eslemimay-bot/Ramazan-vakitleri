<!DOCTYPE html><html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ğŸŒ™ Ramazan Vakitleri 2025â€“2026</title>  <style>
    body{
      font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,sans-serif;
      background:linear-gradient(135deg,#0f2027,#203a43,#2c5364);
      margin:0;padding:16px;color:#fff
    }
    h1,h2{text-align:center;margin:8px 0;color:#ffeb3b}
    .card{
      background:rgba(255,255,255,0.12);
      backdrop-filter:blur(10px);
      border-radius:20px;padding:16px;margin-bottom:16px;
      box-shadow:0 12px 30px rgba(0,0,0,.3)
    }
    select,button{
      width:100%;padding:12px;border-radius:14px;border:none;
      margin-top:10px;font-size:16px
    }
    select{background:#fff;color:#333}
    button{
      background:linear-gradient(135deg,#f9a825,#fdd835);
      color:#4e342e;font-weight:700
    }
    .countdown{text-align:center;font-size:22px;font-weight:700;color:#ffeb3b}

    table{width:100%;border-collapse:collapse;color:#fff;font-size:14px}
    th,td{padding:8px;text-align:center;border-bottom:1px solid rgba(255,255,255,.2)}

    #takvim{
      display:grid;
      grid-template-columns:repeat(7,1fr);
      gap:8px
    }
    .gun{
      background:rgba(255,255,255,.15);
      border-radius:14px;padding:8px;text-align:center;
      font-size:12px
    }
    .gun.ramazan{
      background:linear-gradient(135deg,#fbc02d,#ffeb3b);
      color:#4e342e;font-weight:700
    }
    .gun.bugun{
      outline:3px solid #ffeb3b
    }
    .footer{text-align:center;font-size:12px;color:#ddd;margin-top:20px}
  </style></head>
<body><h1>ğŸŒ™ Ramazan Vakitleri</h1>
<h2>18 AralÄ±k 2025 â€“ 31 AralÄ±k 2026</h2><div class="card">
  <h2>ğŸ“ Konum SeÃ§</h2>
  <select id="il"></select>
  <select id="ilce"></select>
  <button onclick="veriIndir()">Vakitleri YÃ¼kle</button>
</div><div class="card">
  <h2>â³ Ä°ftara Kalan SÃ¼re</h2>
  <div id="iftar" class="countdown">--</div>
</div><div class="card">
  <h2>â³ Sahura Kalan SÃ¼re</h2>
  <div id="sahur" class="countdown">--</div>
</div><div class="card">
  <h2>ğŸ“„ GÃ¼nlÃ¼k Vakitler</h2>
  <table>
    <thead>
      <tr><th>Tarih</th><th>Sahur</th><th>Ä°ftar</th></tr>
    </thead>
    <tbody id="tablo"></tbody>
  </table>
</div><div class="card">
  <h2>ğŸŒ™ Ramazan Takvimi</h2>
  <div id="takvim"></div>
</div><div class="footer">Ramazan gÃ¼nleri altÄ±n renkle iÅŸaretlenmiÅŸtir âœ¨</div><script>
/***************
 * ÅEHÄ°RLER
 ***************/
const SEHIRLER = {
  "Kayseri": ["Melikgazi"],
  "Antalya": ["Manavgat"],
  "Burdur": ["YeÅŸilova"]
};

let ilSelect, ilceSelect, tabloBody;

window.onload = () => {
  ilSelect   = document.getElementById("il");
  ilceSelect = document.getElementById("ilce");
  tabloBody  = document.getElementById("tablo");

  Object.keys(SEHIRLER).forEach(sehir => {
    const opt = document.createElement("option");
    opt.value = sehir;
    opt.textContent = sehir;
    ilSelect.appendChild(opt);
  });

  ilSelect.onchange = ilDegisti;
  ilDegisti();
  setInterval(geriSayimlariGuncelle, 1000);
};

function ilDegisti(){
  ilceSelect.innerHTML = "";
  SEHIRLER[ilSelect.value].forEach(ilce => {
    const opt = document.createElement("option");
    opt.value = ilce;
    opt.textContent = ilce;
    ilceSelect.appendChild(opt);
  });
}

/***************
 * VERÄ° Ã‡EK
 ***************/
async function veriIndir(){
  let tum = [];

  const r2025 = await fetch(`https://api.aladhan.com/v1/calendarByCity/2025/12?city=${ilceSelect.value}&country=Turkey&method=13`);
  tum = tum.concat((await r2025.json()).data);

  for(let ay=1; ay<=12; ay++){
    const r = await fetch(`https://api.aladhan.com/v1/calendarByCity/2026/${ay}?city=${ilceSelect.value}&country=Turkey&method=13`);
    tum = tum.concat((await r.json()).data);
  }

  localStorage.setItem("vakitler", JSON.stringify(tum));
  tabloyuDoldur();
}

/***************
 * TABLO + TAKVÄ°M
 ***************/
function tabloyuDoldur(){
  const data = JSON.parse(localStorage.getItem("vakitler"));
  if(!data) return;

  tabloBody.innerHTML = "";
  const takvim = document.getElementById("takvim");
  takvim.innerHTML = "";

  const bas = new Date("2025-12-18");
  const bit = new Date("2026-12-31");
  const ramBas = new Date("2026-02-19");
  const ramBit = new Date("2026-03-20");

  data.forEach(g => {
    const [gun, ay, yil] = g.date.gregorian.date.split("-");
    const tarih = new Date(`${yil}-${ay}-${gun}`);
    if(tarih < bas || tarih > bit) return;

    const iso = `${yil}-${ay}-${gun}`;

    const tr = document.createElement("tr");
    tr.innerHTML = `<td>${iso}</td><td>${g.timings.Fajr.slice(0,5)}</td><td>${g.timings.Maghrib.slice(0,5)}</td>`;
    tabloBody.appendChild(tr);

    const gunDiv = document.createElement("div");
    gunDiv.className = "gun";
    if(tarih >= ramBas && tarih <= ramBit) gunDiv.classList.add("ramazan");
    if(iso === bugunISO()) gunDiv.classList.add("bugun");

    gunDiv.innerHTML = `<div>${gun}.${ay}</div><div>Ä°ftar</div><div>${g.timings.Maghrib.slice(0,5)}</div>`;
    takvim.appendChild(gunDiv);
  });
}

/***************
 * GERÄ° SAYIM
 ***************/
function geriSayimlariGuncelle(){
  const data = JSON.parse(localStorage.getItem("vakitler"));
  if(!data) return;

  const bugun = data.find(g => {
    const [g1,a1,y1] = g.date.gregorian.date.split("-");
    return `${y1}-${a1}-${g1}` === bugunISO();
  });
  if(!bugun) return;

  geriSayim("iftar", bugun.timings.Maghrib);
  geriSayim("sahur", bugun.timings.Fajr);
}

function geriSayim(id, saatStr){
  const simdi = new Date();
  const [s,d] = saatStr.split(":");
  const hedef = new Date();
  hedef.setHours(s,d,0,0);
  const fark = hedef - simdi;

  if(fark <= 0){ document.getElementById(id).innerText = "GeÃ§ti"; return; }

  const dk = Math.floor(fark/60000);
  const sa = Math.floor(dk/60);
  document.getElementById(id).innerText = `${sa} sa ${dk%60} dk`;
}

function bugunISO(){
  return new Date().toISOString().split("T")[0];
}
</script></body>
</html>


