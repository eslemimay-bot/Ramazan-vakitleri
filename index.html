
<!DOCTYPE html><html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Vakitler 2026</title>
  <style>
    body{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,sans-serif;background:linear-gradient(135deg,#fce4ec,#e3f2fd);margin:0;padding:16px;color:#333}
    h1,h2{text-align:center;margin:8px 0}
    .card{background:#ffffffcc;border-radius:16px;padding:16px;margin-bottom:16px;box-shadow:0 8px 20px rgba(0,0,0,.08)}
    select,button{width:100%;padding:10px;border-radius:12px;border:1px solid #ccc;margin-top:8px;font-size:16px}
    button{background:#ba68c8;color:#fff;border:none}
    .countdown{text-align:center;font-size:20px;font-weight:600}
    table{width:100%;border-collapse:collapse;font-size:13px}
    th,td{padding:6px;text-align:center;border-bottom:1px solid #eee}
    th{background:#f3e5f5}
    .bugun{background:#fff3cd;font-weight:bold}
    .footer{text-align:center;font-size:12px;color:#666}
  </style>
</head>
<body><h1>ðŸŒ™ Vakitler 2026</h1>
<h2>BugÃ¼nden â†’ 31 AralÄ±k 2026</h2><div class="card">
  <h2>Konum SeÃ§</h2>
  <select id="il"></select>
  <select id="ilce"></select>
  <button onclick="veriIndir()">2026 Vakitlerini Ä°ndir</button>
</div><div class="card">
  <h2>Ä°ftara Kalan SÃ¼re</h2>
  <div id="iftar" class="countdown">--</div>
</div><div class="card">
  <h2>Sahura Kalan SÃ¼re</h2>
  <div id="sahur" class="countdown">--</div>
</div><div class="card">
  <h2>GÃ¼nlÃ¼k Vakitler</h2>
  <table>
    <thead><tr><th>Tarih</th><th>Sahur</th><th>Ä°ftar</th></tr></thead>
    <tbody id="tablo"></tbody>
  </table>
</div><div class="footer">BugÃ¼n satÄ±rÄ± vurguludur ðŸŒ¸</div><script>
// ðŸ”’ Sabit ÅŸehirâ€“ilÃ§e listesi (const)
const sehirler = {
  "Kayseri": ["Melikgazi"],
  "Antalya": ["Manavgat"],
  "Burdur": ["YeÅŸilova"]
};

const ilSel = document.getElementById("il");
const ilceSel = document.getElementById("ilce");

Object.keys(sehirler).forEach(il => {
  ilSel.innerHTML += `<option value="${il}">${il}</option>`;
});

function ilDegisti(){
  ilceSel.innerHTML = "";
  sehirler[ilSel.value].forEach(ilce => {
    ilceSel.innerHTML += `<option value="${ilce}">${ilce}</option>`;
  });
}

ilSel.onchange = ilDegisti;
ilDegisti();

async function veriIndir(){
  let tum = [];
  for(let ay=1; ay<=12; ay++){
    const r = await fetch(`https://api.aladhan.com/v1/calendarByCity/2026/${ay}?city=${ilceSel.value}&country=Turkey&method=13`);
    const j = await r.json();
    tum = tum.concat(j.data);
  }
  localStorage.setItem('vakitler2026', JSON.stringify(tum));
  tabloDoldur();
}

function tabloDoldur(){
  const data = JSON.parse(localStorage.getItem('vakitler2026'));
  if(!data) return;

  const tbody = document.getElementById('tablo');
  tbody.innerHTML = "";

  const bugun = new Date();
  const bugunStr = bugun.toISOString().split('T')[0];

  data
    .filter(g => g.date.gregorian.date >= bugunStr)
    .forEach(g => {
      const tr = document.createElement('tr');
      if(g.date.gregorian.date === bugunStr) tr.className = 'bugun';
      tr.innerHTML = `
        <td>${g.date.gregorian.date}</td>
        <td>${g.timings.Fajr.slice(0,5)}</td>
        <td>${g.timings.Maghrib.slice(0,5)}</td>
      `;
      tbody.appendChild(tr);
    });
}

function geriSayim(){
  const data = JSON.parse(localStorage.getItem('vakitler2026'));
  if(!data) return;

  const bugunStr = new Date().toISOString().split('T')[0];
  const g = data.find(x => x.date.gregorian.date === bugunStr);
  if(!g) return;

  hesap('iftar', g.timings.Maghrib);
  hesap('sahur', g.timings.Fajr);
}

function hesap(id, saat){
  const simdi = new Date();
  const [h,m] = saat.split(':');
  const hedef = new Date();
  hedef.setHours(h, m, 0, 0);

  let fark = hedef - simdi;
  if(fark <= 0){
    document.getElementById(id).innerText = 'GeÃ§ti';
    return;
  }

  const s = Math.floor(fark/1000);
  const dk = Math.floor((s%3600)/60);
  const sn = s%60;
  const sa = Math.floor(s/3600);

  document.getElementById(id).innerText = `${sa} sa ${dk} dk ${sn} sn`;
}

setInterval(geriSayim, 1000);
tabloDoldur();
</script></body>
</html>


